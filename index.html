<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0-9Rock Paper Scissors</title>
  <link rel="stylesheet" href="styles/styles.css">
</head>
<body onload="resultFunction()">

  <div class="container">

    <div class="box">

      <p>ROCK PAPER SCISSORS</p>

      <div class="buttons">
        <button onclick="playGame(this.value)" value="rock" id="rock"><img src="./rock.png" alt="hand sowing rock gesture"></button>
        <button onclick="playGame(this.value)" value="papper" id="papper"><img src="./papper.png" alt="hand showing paper gesture"></button>
        <button onclick="playGame(this.value)" value="scissor"  id="scissors"><img src="./scissors.webp" alt=" hand showing scissor gesture"></button>
      </div>    

      <div class="results">
        <div id="you">You Scored : 0</div>
        <div id="tie">Tie Score : 0</div>
        <div id="computer">Computer Scored : 0</div>        
      </div>
      
      <div class="moves">
        <h3 id ='result'></h3>
      </div>

      <button onclick="reset()" style="width: 100px;height: 50px; border-radius: 5px; background-color: transparent; border: 1px solid red; outline: none;">Reset</button>    

    </div>

  </div>

  <script>
    let computerMove ='';
    let score = JSON.parse(localStorage.getItem('gameResult')) || {tieScore:0, computerScore:0, yourScore:0 };
    // document.querySelector('#result').innerHTML = 'Start the Game';
    function pickComputerMove(){
  
      let randomNumber = Math.random();
  
      if (randomNumber >=0 && randomNumber<1/3){
        return computerMove ="rock";
      }
      else if (randomNumber >=1/3 && randomNumber<2/3){
        return computerMove ="papper";
      } 
      else if (randomNumber >=2/3 && randomNumber<1){
        return computerMove ="scissor";
      }
  
    }
  
    function playGame(playerMove){   
  
      pickComputerMove();
  
      if (playerMove === 'rock'){      
        if(computerMove === 'rock'){
          score.tieScore +=1
        } else if(computerMove === 'papper'){
          score.computerScore +=1
        } else if(computerMove === 'scissor'){
          score.yourScore +=1
        }
      } 
  
      else if (playerMove === 'papper'){
        if(computerMove === 'rock'){
          score.yourScore +=1
        } else if(computerMove === 'papper'){
          score.tieScore +=1
        } else if(computerMove === 'scissor'){
          score.computerScore +=1
        }
      }  
  
      else if (playerMove === 'scissor'){
        if(computerMove === 'rock'){
          score.computerScore +=1
        } else if(computerMove === 'papper'){
          score.yourScore +=1
        } else if(computerMove === 'scissor'){
          score.tieScore +=1
        }
      }
  
      localStorage.setItem('gameResult', JSON.stringify(score));
      resultFunction();
      // document.querySelector('#result').innerHTML = (`you picked ${playerMove}, and computer picked ${computerMove} , wins : ${(score.yourScore)} ,losses : ${(score.computerScore)} , ties : ${(score.tieScore)}`); 
       document.querySelector('#result').innerHTML = `you picked ${playerMove}, and computer picked ${computerMove}`
    }
  
    function reset(){
      localStorage.removeItem('gameResult');
      score.tieScore =0;
      score.yourScore = 0;
      score.computerScore = 0;
      resultFunction();
      document.querySelector('#result').innerText = 'Game Reset';
    }
    
    function resultFunction(){
      document.querySelector('#result').innerHTML = 'Continue the Game';
      let score = JSON.parse(localStorage.getItem('gameResult')) || {tieScore:0, computerScore:0, yourScore:0 };
      document.getElementById('you').innerHTML= `You Scored : ${score.yourScore}`;
      document.getElementById('computer').innerHTML= `Computer Scored : ${score.computerScore}`;
      document.getElementById('tie').innerHTML= `Tie Score : ${score.tieScore}`;
      
    }
  </script>
</body>

</html>
